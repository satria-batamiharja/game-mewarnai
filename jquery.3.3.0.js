$(function ok(){if(param===0){var k=$("#home").height();window.onscroll=function(){if(document.body.scrollTop>k-500||document.documentElement.scrollTop>k-500){document.body.scrollTop=k-500;document.documentElement.scrollTop=k-500}}}$("#scene1").click(function(){ok()});$("#scene2").click(function(){ok()});$("#scene3").click(function(){ok()});$("#scene4").click(function(){ok()});$("#scene5").click(function(){ok()});$("#scene6").click(function(){ok()});$("#reset1").click(function(){ok()});var d=document.getElementById("canvas");var n=d.getContext("2d");tes();var f=d.width;var g=d.height;var b={x:0,y:0,width:300,height:400};drawGridAndLines();var m=n.getImageData(0,0,f,g);var c=n.getImageData(0,0,f,g);function i(u,t,z,p,s){var v;var A;var w;var r;var B;var q;var o=[[u,t]];while(o.length){v=o.pop();A=v[0];w=v[1];r=(w*f+A)*4;while(w>=0&&l(r,z,p,s)){w-=1;r-=f*4}r+=f*4;w+=1;B=false;q=false;while(w<=(g-1)&&l(r,z,p,s)){w+=1;c.data[r]=fillColor.r;c.data[r+1]=fillColor.g;c.data[r+2]=fillColor.b;c.data[r+3]=255;if(A>0){if(l(r-4,z,p,s)){if(!B){o.push([A-1,w]);B=true}}else{if(B){B=false}}}if(A<(f-1)){if(l(r+4,z,p,s)){if(!q){o.push([A+1,w]);q=true}}else{if(q){q=false}}}r+=f*4}}}function l(u,w,v,q){var t=m.data[u],s=m.data[u+1],o=m.data[u+2],p=m.data[u+3];if(j(t,s,o,p)){return false}t=c.data[u];s=c.data[u+1];o=c.data[u+2];if(t===w&&s===v&&o===q){return true}if(t===fillColor.r&&s===fillColor.g&&o===fillColor.b){return false}return true}function j(s,q,o,p){return(s+q+o<100&&p===255)}function e(s,p){var v=(p*f+s)*4,u=c.data[v],t=c.data[v+1],o=c.data[v+2],q=c.data[v+3];if(u===fillColor.r&&t===fillColor.g&&o===fillColor.b){return}if(j(u,t,o,q)){return}i(s,p,u,t,o);n.putImageData(c,0,0)}function h(o,q){var p=n.getImageData(o,q,1,1).data;return({r:p[0],g:p[1],b:p[2],a:p[3]})}function a(p){p.preventDefault();x=parseInt(p.clientX-offsetX);y=parseInt(p.clientY-offsetY);if(x<b.x+1||x>b.x+b.width||y<b.y+1||y>b.y+b.height){return}var o=h(x,y);$("#warna1").click(function(){fillColor=warna1()});$("#warna2").click(function(){fillColor=warna2()});$("#warna3").click(function(){fillColor=warna3()});$("#warna4").click(function(){fillColor=warna4()});$("#warna5").click(function(){fillColor=warna5()});$("#warna6").click(function(){fillColor=warna6()});$("#warna7").click(function(){fillColor=warna7()});$("#warna8").click(function(){fillColor=warna8()});$("#hapus").click(function(){fillColor=hapus()});e(x,y,o.r,o.g,o.b)}$("#canvas").mousedown(function(o){document.body.scrollTop=0;document.documentElement.scrollTop=0;a(o)})});